# Token 输入方式说明

## 更新内容

现在申请证书时支持三种Token输入方式，更加灵活方便！

## 使用方法

### 方式1: 从Token文件读取（原有方式）

1. 在申请证书时选择 **"是"** 使用Token文件
2. 输入Token文件名（如 `test-20260122-000451.json`）
3. 程序会自动从 `tokens/` 目录读取文件

**适用场景**: 有保存的Token文件，需要重复使用

---

### 方式2: 一次性粘贴完整Token（新增）

1. 在申请证书时选择 **"否"** 不使用Token文件
2. 在输入框中粘贴格式为 `ID:KEY` 的完整Token

**示例**:
```
test-20260122-000451:aad31a92d0bc907a7dd695396ee913125e193fc83da479e2504cb132eae8df32
```

**适用场景**: 服务端管理员直接发送完整Token给你，快速一次性使用

---

### 方式3: 分两次输入ID和Key（新增）

1. 在申请证书时选择 **"否"** 不使用Token文件
2. 第一步：输入Token ID
   ```
   test-20260122-000451
   ```
3. 第二步：输入Token Key（hex格式）
   ```
   aad31a92d0bc907a7dd695396ee913125e193fc83da479e2504cb132eae8df32
   ```

**适用场景**: Token ID和Key分开提供，或者需要仔细核对

---

## Token格式说明

### Token ID
- 格式: `客户端名称-日期-时间`
- 示例: `test-20260122-000451`

### Token Key
- 格式: 64位十六进制字符串（32字节）
- 示例: `aad31a92d0bc907a7dd695396ee913125e193fc83da479e2504cb132eae8df32`

### 完整Token格式 (方式2)
- 格式: `ID:KEY`
- 示例: `test-20260122-000451:aad31a92d0bc907a7dd695396ee913125e193fc83da479e2504cb132eae8df32`

---

## 操作流程示例

### 快速申请证书（使用方式2）

1. 客户端生成CSR:
   ```
   客户端菜单 -> 证书管理 -> 生成CSR
   ```

2. 服务端生成Token:
   ```
   服务端菜单 -> Token管理 -> 生成Token
   ```
   
   输出示例:
   ```
   ========== Token生成成功 ==========
   Token ID:  test-20260122-000451
   Token Key: aad31a92d0bc907a7dd695396ee913125e193fc83da479e2504cb132eae8df32
   
   完整Token (可直接复制粘贴):
   test-20260122-000451:aad31a92d0bc907a7dd695396ee913125e193fc83da479e2504cb132eae8df32
   
   客户端:    test
   过期时间:  2026-01-23 00:04:51
   保存路径:  tokens/test-20260122-000451.json
   ===================================
   ```
   
   💡 **提示**: 直接用鼠标选中黄色的完整Token那一行进行复制！

3. 客户端申请证书:
   ```
   客户端菜单 -> 证书管理 -> 申请证书
   ```
   
   - CSR文件路径: `client.csr` (自动检测)
   - 使用Token文件? **选择"否"**
   - 输入Token: 直接粘贴 `test-20260122-000451:aad31a92d0bc907a7dd695396ee913125e193fc83da479e2504cb132eae8df32`

4. 完成！证书会自动下载并部署到 `./certs` 目录

---

## 提示

- **推荐使用方式2**: 最快速，一次性粘贴即可
- Token只能使用一次，使用后会被标记为已使用
- Token有有效期限制，过期后无法使用
- 输入时会自动去除首尾空格，不用担心复制时多余的空格
